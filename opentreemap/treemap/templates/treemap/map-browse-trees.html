{% load i18n %}
{% load instance_config %}

<div class="accordion" id="map-info">
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#map-info" href="#tree-detail">Tree Details <span class="arrow pull-right"><i class="icon-right-open"></i></span></a>
    </div>
    <div id="tree-detail" class="accordion-body collapse">
      <button class="btn" id="full-details-button">Full Details</button>
      <button class="btn" data-class="display" id="edit-details-button"
              title="{% trans "Editing of the tree details is not available to all users" %}"
              >Edit Details</button>
      <button class="btn" data-class="edit" id="save-details-button" style="display:none">Save</button>
      <button class="btn" data-class="edit" id="cancel-edit-details-button" style="display:none">Cancel</button>
      <div class="accordion-inner" id="plot-accordion">
        <!-- The markup returned from the plot detail endpoint looks like
             span.plot-label + br + span.content + p ...
        -->
      </div>
      <div id="move-plot-buttons">
        {% with iuser=user|instanceuser:request.instance %}
        {% if iuser|plot_field_is_writable:"geom" %}
        <button class="btn" style="display:none" id="edit-plot-location">Move Tree</button>
        <button class="btn" style="display:none" id="cancel-edit-plot-location">Cancel Tree Move</button>
        {% else %}
        <button data-class="display" class="btn" disabled="disabled"
                title="{% trans "Editing a plot's location is not available to all users" %}">
        </button>
        {% endif %}
        {% endwith %}
      </div>
    </div>
  </div>
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#map-info" href="#yearlyEco">Yearly Eco Benefits <span class="arrow pull-right"><i class="icon-right-open"></i></span></a>
    </div>
    <div id="yearlyEco" class="accordion-body collapse in">
      <div class="accordion-inner" id="benefit-values">
        <!-- The benefit markup returned from the search endpoint looks like this -->
        <!--
        <span class="benefit-label">Total Benefits</span>
        <br>
        <span class="content">$8,651,746 saved</span>
        <hr>
        <span class="benefit-label">Greenhouse Gas Benefits</span>
        <br>
        <span class="content">23,716,949 lbs CO2 reduced<br>$79,214 saved</span>
        <hr>
        -->
      </div>
    </div>
  </div>
</div>
